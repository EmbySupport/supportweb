<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Emby Server does not start - Security advisory 2023-05-25 | Emby Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Emby Server does not start - Security advisory 2023-05-25 | Emby Documentation ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/socialbar.css">
    <link rel="stylesheet" href="../styles/header.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,100,300,500,700,100italic,300italic,400italic" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.2.0/css/all.min.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta property="docfx:uid" content="Emby-Server-does-not-start---Security-advisory-2023-05-25">
    
    <meta property="docfx:rel" content="../">
    
    <script type="text/javascript" src="../nav.js"></script>
    <script type="text/javascript" src="toc.js"></script>
  
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <div class="mb-socials-heading" style="height: 40px;">
        	<div class="mb-socials-heading-inner container">
        		<div class="mb-socials-heading-right">
        			<div class="mb-socials-list">
                          
        				<div class="mb-socials-item facebook">
        					<a class="mb-socials-item-link" target="_blank" href="https://facebook.com/embyapp"></a>
        					<div class="mb-socials-item-popup">
        						<span>Facebook</span>
        					</div>
        				</div><div class="mb-socials-item twitter">
        					<a class="mb-socials-item-link" target="_blank" href="https://twitter.com/embyapp"></a>
        					<div class="mb-socials-item-popup">
        						<span>Twitter</span>
        					</div>
        				</div>
        				<div class="mb-socials-item pinterest">
        					<a class="mb-socials-item-link" target="_blank" href="https://www.pinterest.com/emby0240/emby-news/"></a>
        					<div class="mb-socials-item-popup">
        						<span>Pinterest</span>
        					</div>
        				</div>
        				<div class="mb-socials-item tumblr">
        					<a class="mb-socials-item-link" target="_blank" href="https://embyapp.tumblr.com/"></a>
        					<div class="mb-socials-item-popup">
        						<span>Tumblr</span>
        					</div>
        				</div>
        				<div class="mb-socials-item github">
        					<a class="mb-socials-item-link" target="_blank" href="https://github.com/MediaBrowser"></a>
        					<div class="mb-socials-item-popup">
        						<span>GitHub</span>
        					</div>
        				</div><div class="mb-socials-item rss">
        					<a class="mb-socials-item-link" target="_blank" href="https://emby.media/blog.xml"></a>
        					<div class="mb-socials-item-popup">
        						<span>RSS</span>
        					</div>
        				</div>
                          
        			</div>
        		</div>
        	</div>
        </div>
        <div class="container">
        	<nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
        		  
        		  <a class="navbar-brand" href="/">
        		    <img id="logo" class="svg" src="../images/logo.png" alt="">
        		  </a>
        		  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
        			<span class="sr-only">Toggle navigation</span>
        			<span class="icon-bar"></span>
        			<span class="icon-bar"></span>
        			<span class="icon-bar"></span>
        		  </button>
        		<div class="collapse navbar-collapse" id="navbar">
        			
        			<ul class="nav level1 navbar-nav">
        			      <li class="nav-item">
        			          <a class="nav-link" href="https://emby.media/about.html" title="About">About</a>
        			      </li>
        			      <li class="nav-item">
        			          <a class="nav-link" href="https://emby.media/blog.html" title="Blog">Blog</a>
        			      </li>
        			      <li class="nav-item">
        			          <a class="nav-link" href="https://emby.media/download.html" title="Download">Download</a>
        			      </li>
        			      <li class="nav-item">
        			          <a class="nav-link" href="https://emby.media/premiere.html" title="Emby Premiere">Emby Premiere</a>
        			      </li>
        			      <li class="nav-item">
        			          <a class="nav-link" href="http://app.emby.media/" title="Sign In">Sign In</a>
        			      </li>
        			      <li class="nav-item">
        			          <a class="nav-link" href="../index.html" title="Support">Support</a>
        			      </li>
        			</ul>		</div>
        	</nav>
        </div>
        <div class="nav-overlay d-none"></div>        
        <div class="subnav navbar navbar-default">
          <div class="container">
            <div class="hide-when-search" id="breadcrumb">
        	  <ul class="breadcrumb">
        		<li></li>
        	  </ul>
        	</div>
        
        	<div class="breadcrumpsearch">
        	  <form class="navbar-form navbar-right" role="search" id="search">
        		<div class="form-group">
        		  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
        		</div>
        	  </form>
        	</div>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Emby-Server-does-not-start---Security-advisory-2023-05-25">
<h1>Emby Server does not start - Security advisory 2023-05-25</h1>


<h2 id="applicability">Applicability</h2>
<p>This article applies to cases where you are experiencing one or more of the following symptoms:</p>
<ul>
<li>Your Emby Server has shut down and will not start effective 2023-05-25</li>
<li>You encounter a message in the Emby Server log file starting with &quot;We have detected a malicious plugin on your system which has probably been installed without your knowledge.&quot;</li>
<li>You encounter an error entry in the Windows event log, Source=&quot;.NET Runtime&quot;, EventId=1025 with the same text as above in the event details</li>
</ul>
<h2 id="background">Background</h2>
<p>Starting Mid-May 2023, it was discovered a hacker(s) had managed to use a &quot;Proxy Header Vulnerability&quot; to infiltrate Emby Servers improperly configured for remote access, gaining admin access with ability to install a custom plugin. Note: Emby Server version 4.8 (beta) already contains fixes that would have prevented this.</p>
<p>After careful analysis and evaluation of possible mitigation strategies, the Emby team was able to push out updates to Emby Server instances which enabled detection of the custom plugin used by the exploit and prevent it from running.</p>
<p>The Emby team determined that shutting down the server and preventing further startup up as the most suitable action as it disables the plug-in and draws the attention of the administrator to find out why the server isn't running.</p>
<h2 id="risk-and-impact">Risk and Impact</h2>
<p>It is best to assume a positive detection of intrusion has allowed access to Emby Server configuration data as well as system data available to the operating system account used to run Emby Server.</p>
<h2 id="actions-to-take">Actions to Take</h2>
<ul>
<li><p>Remove any plug-in named helper.dll or EmbyHelper.dll
Primary location is the plugins folder under Emby's programdata folder
Also look in cache and data subfolders</p>
</li>
<li><p>Add an entry to your etc/hosts file:</p>
<pre><code>       emmm.spxaebjhxtmddsri.xyz 127.0.0.1
</code></pre>
<p>Note: This is the host name of the control server which the malware is communicating with</p>
</li>
<li><p>Change the password of the OS system account running Emby Server</p>
</li>
<li><p>Run a complete Malware and Virus scan on the full system.</p>
</li>
<li><p>Check the OS itself for
Suspicious user accounts
Unknown processes
Unknown network connections and open ports
SSH configuration changes if applicable
Firewall rule changes</p>
</li>
</ul>
<h2 id="getting-emby-server-to-start-again">Getting Emby Server to Start Again</h2>
<p>After (and only after) you have done the above:</p>
<ul>
<li><p>Disable your router's port forwarding rule used for remote access to the Emby Server</p>
</li>
<li><p>Go to the following folder under the emby programdata folder:</p>
<p>programdata/plugins/configurations</p>
</li>
<li><p>Delete the file named ReadyState.xml.</p>
</li>
<li><p>Delete the file named 'EmbyScripterX.xml' (if exists)</p>
</li>
<li><p><strong>Update Emby Server to 4.7.12 or newer. Beta Servers use version 4.8.0.31 or newer.</strong></p>
</li>
<li><p>Start Emby Server</p>
</li>
<li><p>Assign new passwords to all accounts.</p>
</li>
<li><p>Set all admin accounts to use &quot;Require a password on the local network&quot;. Best to configure all accounts this way.</p>
</li>
<li><p>Configure admin accounts to &quot;Hide this user from login screens on the local network&quot; as well as &quot;Hide this user from login screens when connected remotely&quot;.</p>
</li>
<li><p>Consider setting up non admins accounts to use &quot;Hide this user from login screens on devices they've never signed into&quot;.</p>
</li>
<li><p>Tighten security as much as possible, especially network settings.</p>
</li>
<li><p>Enable your router's port forwarding rule used for remote access to the Emby Server</p>
</li>
</ul>


            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix sdkversion" id="affix">
                <h5>On this Page</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to Top</a>
            </span>
            2023 © EMBY LLC.  Please see our <a class="lnk" href="https://emby.media/terms.html">terms of use</a> and <a class="lnk" href="https://emby.media/privacy.html">privacy policy</a>.
      
          <span class="contribution">
                <a href="https://github.com/EmbySupport/Emby.Docs/issues/new?title=&amp;body=%0A%0A%5BEnter%20feedback%20here%5D%0A%0A%0A---%0A%23%23%23%23%20Article%20Details%0A%0A**Do%20not%20remove%20this%20section**%0A%0A*%20uid%3A%20Emby-Server-does-not-start---Security-advisory-2023-05-25%0A*%20Title%3A%20Emby%20Server%20does%20not%20start%20-%20Security%20advisory%202023-05-25%0A*%20Article%3A%20https%3A%2F%2Fgithub.com%2FEmbySupport%2FEmby.Docs%2Fblob%2Fmaster%2Fadvisory-23-05.md%0A*%20LegacyUrl%3A%20https%3A%2F%2Fsupport.emby.mediaundefined%0A" class="contribution-link" title="Feedback on this article"><div class="far fa-comment-alt fa-sm"></div></a>
                <a href="https://github.com/EmbySupport/Emby.Docs/blob/master/advisory-23-05.md/#L1" class="contribution-link " title="View article source"><div class="far fa-edit fa-sm"></div></a>
          </span>
      
          
        
      </div></div></footer>
    
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../searchIndex.js"></script>
    <script type="text/javascript" src="../styles/lunr.min.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </div></body>
</html>
